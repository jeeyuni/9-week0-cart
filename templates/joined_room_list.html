{% extends "base.html" %} {% block title %}신청한 파티{% endblock %} {% block
content %}
<h1>신청한 파티</h1>
<h2>확정된 파티</h2>
{% for room in confirmed %}
<ul>
  <li>모임이름: {{room["title"]}}</li>
  <li>카테고리: {{room["category"]}}</li>
  <li>인원수: {{room["user_count"]}} / {{room["max_count"]}}</li>
  <li>호스트: {{room["host_name"]}}</li>
  <li>장소: {{room["location"]}}</li>
  <li>시간: {{room["time"]}}</li>
</ul>
<a href="/rooms/{{room['_id']}}">세부사항</a>
{% endfor %}
<h2>확정되지 않은 파티</h2>
{% for room in not_confirmed %}
<ul>
  <li>모임이름: {{room["title"]}}</li>
  <li>카테고리: {{room["category"]}}</li>
  <li>인원수: {{room["user_count"]}} / {{room["max_count"]}}</li>
  <li>호스트: {{room["host_name"]}}</li>
  <li>장소: {{room["location"]}}</li>
  <li>시간: {{room["time"]}}</li>
</ul>

<!-- 이용자가 호스트일 때 -->
{% if g.user["_id"] == room["host_id"] %}
<a href="/rooms/{{room['_id']}}/modify">수정하기</a>
<form action="/rooms/{{room['_id']}}/delete" method="post" class="deleteForm">
  <button>삭제하기</button>
</form>
<form action="/rooms/{{room['_id']}}/confirm" method="post" class="confirmForm">
  <button>확정하기</button>
</form>
{% else %}
<!-- 이용자가 호스트가 아닐 때 -->
<button onclick="exit('{{room['_id']}}')">퇴장하기</button>
{% endif %} {% endfor %} {% endblock %}
